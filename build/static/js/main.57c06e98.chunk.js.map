{"version":3,"sources":["Notification.js","Filter.js","PersonForm.js","Persons.js","services/phonebook.js","App.js","index.js"],"names":["Notification","message","messageClass","isError","className","text","Filter","filterText","handleFilterTextChange","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addName","type","onClick","Persons","searchFor","persons","deleteEntry","filter","person","name","toLowerCase","includes","map","index","key","number","id","baseUrl","axios","get","then","response","data","newObject","post","delete","changedObject","put","App","useState","setPersons","setNewName","setNewNumber","setFilterText","setMessage","useEffect","phonebookService","phonebook","displayTemporaryMessage","messageText","setTimeout","event","target","preventDefault","entry","find","undefined","window","confirm","changedEntry","catch","error","status","newEntry","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.57c06e98.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    const messageClass = message.isError ? 'error' : 'info'\r\n    return (\r\n      <div className={messageClass}>\r\n        {message.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification\r\n","import React from 'react'\r\n\r\nconst Filter = ({ filterText, handleFilterTextChange }) => (\r\n  <div>\r\n    filter shown with\r\n    <input value={filterText} onChange={handleFilterTextChange} />\r\n  </div>\r\n)\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, handleNameChange, newNumber, handleNumberChange, addName }) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={addName}>add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ persons, filterText, deleteEntry }) => {\r\n  const filterCaseInsensitiveBy = (searchFor) => (\r\n    (person) => person.name.toLowerCase()\r\n      .includes(searchFor.toLowerCase())\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {persons.filter(filterCaseInsensitiveBy(filterText))\r\n        .map((person, index) =>\r\n          <div key={index}>\r\n            {person.name} {person.number}\r\n            <button onClick={() => deleteEntry(person.id, person.name)}>delete</button>\r\n          </div>\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request\r\n}\r\n\r\nconst change = (id, changedObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, changedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, add, remove, change }\r\n","import React, { useState, useEffect } from 'react'\nimport Notification from './Notification'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport phonebookService from './services/phonebook'\nimport './App.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(phonebook => {\n        setPersons(phonebook)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterTextChange = (event) => {\n    setFilterText(event.target.value)\n  }\n\n  const displayTemporaryMessage = (messageText, isError = false) => {\n    const message = { text: messageText, isError: isError }\n    setMessage(message)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const entry = persons.find((entry) => entry.name === newName)\n    if (entry !== undefined) {\n      if (window.confirm(`${entry.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const changedEntry = { ...entry, number: newNumber }\n\n        phonebookService\n          .change(entry.id, changedEntry)\n          .then(changedEntry => {\n            displayTemporaryMessage(`Changed ${changedEntry.name}`)\n            setPersons(persons.map(entry =>\n              (entry.id !== changedEntry.id ? entry : changedEntry)))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            var message = 'An unknown error occurred'\n            if (error.response) {\n              if (error.response.status === 400) {\n                message = error.response.data.error\n              }\n              else if (error.response.status === 404) {\n                message = `Information of ${entry.name} has already been removed from server`\n                setPersons(persons.filter((person) => person.id !== entry.id))\n              }\n              else {\n                message = `HTTP error ${error.response.status}`\n              }\n            }\n            displayTemporaryMessage(message, true)\n          })\n        }\n    }\n    else {\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      phonebookService\n        .add(nameObject)\n        .then(newEntry => {\n          displayTemporaryMessage(`Added ${newEntry.name}`)\n          setPersons(persons.concat(newEntry))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          displayTemporaryMessage(error.response.data.error, true)\n        })\n    }\n  }\n\n  const deleteEntry = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      phonebookService\n        .remove(id)\n        .then(response => {\n          displayTemporaryMessage(`Deleted ${name}`)\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter\n        filterText={filterText}\n        handleFilterTextChange={handleFilterTextChange}\n      />\n      <h2>Add new entry</h2>\n      <PersonForm\n        newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange}\n        addName={addName}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filterText={filterText}\n        deleteEntry={deleteEntry}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}